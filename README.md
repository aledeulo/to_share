# Useful information for this rest service
##Data base configuration:
```
/*As described and can be modify in application.properties*/
Database
name = gateways
user = gateway
password = lfJFYDmRUrrzZZF8
/*These tables are generated by Hibernate. No need for you to create them manually!*/
table_gateway=gateway
table_peripheral=peripheral_device
```

##Functionalities of the service
<h5>Over Gateways</h5>
<h5>@RequestMapping("/gateways")</h5>
```
http://localhost:8080/gateways

/*Get all gateways*/
Name: getAllGateways()
Mapping: /get
Access sample on terminal: curl http://localhost:8080/gateways/get

/*Get a gateway*/
Name: getGatewayById(id)
Mapping: /get/{id}
Access sample on terminal: curl http://localhost:8080/gateways/get/1

/*Add gateway*/
Name: addGateway(gateway)
Mapping: /add
Note: Gateway id is a 16 character hash generated by the combination of name and ipAddress(this value must not be passed)
Note: Peripheral list for the gateway will be created empty. You can later add 10 peripheral devices top.
Access sample on terminal: curl -X POST -H "Content-Type: application/json" -d "{\"name\":\"Gateway1\",\"ipAddress\":\"192.168.0.100\"}" http://localhost:8080/gateways/add

/*Update gateway*/
Name: updateGateway(id, gateway)
Mapping: /update/{id}
Access sample on terminal: curl -X PUT -H "Content-Type: application/json" -d "{\"name\":\"Gateway1\",\"ipAddress\":\"192.168.0.100\"}" http://localhost:8080/gateways/update/1

/*Remove gateway*/
Name: removeGateway(id)
Mapping: /remove/{id}
Warning: if you pass "*" as the value of the id all the gateways will be deleted. Example curl -X DELETE http://localhost:8080/gateways/remove/*
Access sample on terminal: curl -X DELETE http://localhost:8080/gateways/remove/1

/*Add peripheral device to a gateway*/
Name: addPeripheralToGateway(gId, pId)
Mapping: /addPeripheral/{gId}/{pId}
Description: This function add to the peripheral devices list in the gateway (gId) the id(pId) of the peripheral device that we want to include
Access sample on terminal: curl -X PUT http://localhost:8080/gateways/addPeripheral/1/5

/*Remove peripheral device from a gateway*/
Name: removePeripheralFromGateway(gId, pId)
Mapping: /delPeripheral/{gId}/{pId}
Description: This function removes from the peripheral devices list in the gateway(gId) the id(pId) of the peripheral device that we want to remove
Access sample on terminal: curl -X DELETE http://localhost:8080/gateways/delPeripheral/1/5
```


<h5>Over Peripheral devices</h5>
<h5>@RequestMapping("/peripherals")</h5>
```
http://localhost:8080/peripherals

/*Get all peripheral devices*/
Name: getAllPeripherals()
Mapping: /get
Access sample on terminal: curl http://localhost:8080/peripherals/get

/*Get a peripheral device*/
Name: getPeripheralById(id)
Mapping: /get/{id}
Access sample on terminal: curl http://localhost:8080/peripherals/get/1

/*Add peripheral device*/
Name: addPeripheral(p)
Mapping: /add
Note: UID is generated. Date must be in the current format (yyyy-mm-dd)
Access sample on terminal: curl -X POST -H "Content-Type: application/json" -d "{\"Vendor\":\"Vendor name\",\"Created at\":\"2020-11-14\", \"state\":\"online\"}" http://localhost:8080/peripherals/add

/*Update peripheral device*/
Name: updatePeripheral(id, Peripheral)
Mapping: /update/{id}
Access sample on terminal: curl -X PUT -H "Content-Type: application/json" -d "{\"Vendor\":\"Vendor name\",\"Created at\":\"2020-11-14\", \"state\":\"online\"}" http://localhost:8080/peripherals/update/1

/*Remove peripheral device*/
Name: removePeripherals(id)
Mapping: /remove/id
Warning: if you pass "*" as the value of the id all the peripheral devices will be deleted. Example curl -X DELETE http://localhost:8080/peripherals/remove/*
Access sample on terminal: curl -X DELETE http://localhost:8080/peripherals/remove/1
```